#!MANAGED-CONFIG https://raw.githubusercontent.com/hex1n/airport-rules/main/surge/surge_conf.conf strict=true
[General]
# Update-2023.05.19.09.55
# ä½ å¯ä»¥ä»è¯¥ URL ä¸‹è½½è¿™ä¸ªé…ç½®æ–‡ä»¶: https://raw.githubusercontent.com/hex1n/airport-rules/main/surge/surge_conf.conf
# > å¢å¼ºç‰ˆ Wi-Fi åŠ©ç†
# åœ¨ Wi-Fi ç½‘ç»œä¸ä½³æ—¶å°è¯•ä½¿ç”¨æ•°æ®ç½‘ç»œå»ºç«‹è¿æ¥ï¼Œè¯·ä»…å½“ä½¿ç”¨ä¸é™é‡çš„æ•°æ®æµé‡æ—¶å¼€å¯ï¼Œé»˜è®¤å¼€å¯ã€‚
wifi-assist = true
# > Hybrid Network (å»ºè®®å…³é—­ã€æ— é™æµé‡æˆ–è€…è¶…å‡ºå¥—é¤æµé‡ä¸é™é€Ÿå¯é€‰æ‹©å¼€å¯ï¼‰
# å¯¹æ‰€æœ‰ç­–ç•¥è®¾ç½® hybrid = trueï¼Œæ‰€æœ‰ TCP è¿æ¥åœ¨å»ºç«‹æ—¶å‡ä¼šå¹¶å‘å°è¯•æ•°æ®ç½‘ç»œå’Œ WiFi è¿æ¥ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ‰€æœ‰ DNS æŸ¥è¯¢æ“ä½œä¹Ÿéƒ½å°†å¹¶å‘åœ¨æ•°æ®ç½‘ç»œå’Œ WiFi ä¸Šè¿›è¡Œã€‚æ‰€ä»¥è‹¥æƒ³ä½“éªŒè¯¥åŠŸèƒ½ï¼Œè¯·æ‰‹åŠ¨é…ç½®å…¬ç½‘ DNSï¼Œæš‚ä¸æ”¯æŒ DOHã€‚è¯·æ³¨æ„æ•°æ®ç½‘ç»œçš„å¥—é¤æµé‡ä½¿ç”¨ã€‚
# æ··åˆç½‘ç»œï¼Œé»˜è®¤å…³é—­ã€‚
all-hybrid = false
# > Internet æµ‹è¯• URL
internet-test-url = http://wifi.vivo.com.cn/generate_204
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 5
# > è‡ªå®šä¹‰ GeoIP æ•°æ®åº“ï¼ˆæ ¹æ®éœ€æ±‚é€‰ä¸€å³å¯ï¼‰
#geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
geoip-maxmind-url = https://raw.githubusercontent.com/Hackl0us/GeoIP2-CN/release/Country.mmdb
# geoip-maxmind-url = https://github.com/Masaiki/GeoIP2-CN/raw/release/Country.mmdb
# > GeoIP æ•°æ®åº“è‡ªåŠ¨æ›´æ–°
disable-geoip-db-auto-update = false
# > VIF Excluded Routes
# Surge VIF åªèƒ½å¤„ç† TCP å’Œ UDP åè®®ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥ç»•è¿‡ç‰¹å®šçš„ IP èŒƒå›´ï¼Œå…è®¸æ‰€æœ‰æµé‡é€šè¿‡ã€‚
# tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# > VIF Included Routes
# é»˜è®¤æƒ…å†µä¸‹ï¼ŒSurge VIF æ¥å£ä¼šå£°æ˜è‡ªå·±æ˜¯é»˜è®¤è·¯ç”±ã€‚ä½†æ˜¯ï¼Œç”±äº Wi-Fi æ¥å£çš„è·¯ç”±è¾ƒå°ï¼Œæœ‰äº›æµé‡å¯èƒ½ä¸ä¼šé€šè¿‡ Surge VIF æ¥å£ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥æ·»åŠ ä¸€æ¡è¾ƒå°çš„è·¯ç”±ã€‚
# tun-included-routes = 192.168.1.12/32
# > UDP IP é˜²æ³„æ¼
# å¦‚æœæ²¡æœ‰ä»£ç†æœåŠ¡å™¨æ”¯æŒ UDP è½¬å‘ï¼Œå¯ä¿®æ”¹ä¸ºã€Œ direct ã€æˆ–æ³¨é‡Šä¸‹æ¡ï¼Œä½†éœ€æ³¨æ„åŒä¸€ç›®æ ‡ä¸»æœºå TCP è¯·æ±‚ä¸ UDP è¯·æ±‚çš„æºåœ°å€ä¸åŒæ‰€é€ æˆçš„éšç§åŠå®‰å…¨é£é™©ã€‚
udp-policy-not-supported-behaviour = reject
# > éšè—çŠ¶æ€æ ä¸Šçš„ VPN å›¾æ ‡
# å¯åŠ¨è¯¥é€‰é¡¹å¯èƒ½å¯¼è‡´ ã€ŒCannot allocate memoryã€ç³»ç»Ÿé”™è¯¯ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚
# hide-vpn-icon = true
# > æé«˜å¤„ç† UDP æµé‡ä¼˜å…ˆçº§
udp-priority = true
# > åˆ‡æ¢ç½‘ç»œåä¸å†é‡æ–°è¿›è¡Œ VPN é…ç½®
fast-switch = true
# > IPv6 æ”¯æŒ (é»˜è®¤å…³é—­ï¼‰
ipv6 = false
# > IPv6 VIF (é»˜è®¤ç¦ç”¨ï¼‰
ipv6-vif = disabled
# > å…è®¸ Wi-Fi è®¿é—® (ä»… iOS ï¼‰
allow-wifi-access = true
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# > Allow Hotspot Access (çƒ­ç‚¹åˆ†äº«ä»£ç†ï¼‰
allow-hotspot-access = true
# > å…è®¸ Wi-Fi è®¿é—® (ä»… macOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œ127.0.0.1ã€æ”¹ä¸ºã€Œ0.0.0.0ã€)
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153
# > HTTP-API
# ä¾æ¬¡ä¸ºï¼šå¯†ç ï¼Œä¸»æœºåï¼Œç«¯å£
http-api = dlwlrma@0.0.0.0:6171
# > HTTP-API-TLS
http-api-tls = false
# > Webæ§åˆ¶å™¨
# Safariè¾“å…¥127.0.0.1:6171,å¡«å…¥HTTP-APIå¯†ç å³å¯ã€‚
http-api-web-dashboard = true
# > å…¼å®¹æ¨¡å¼ (ä»… iOS)
# compatibility-mode = 0
# > è·³è¿‡ä»£ç†
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, iosapps.itunes.apple.com, seed-sequoia.siri.apple.com, sequoia.apple.com
# > æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# > DNS æœåŠ¡å™¨
dns-server = 119.29.29.29, 223.5.5.5, system
# > åŠ å¯†çš„DNSæœåŠ¡å™¨ (å¦‚æ— å¿…è¦ä¸å»ºè®®ä½¿ç”¨)
encrypted-dns-server = h3://223.5.5.5/dns-query
# > å…³é—­ DOH çš„æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
doh-skip-cert-verification = true
# ä½¿åŠ å¯† DNS è¯·æ±‚é€šè¿‡ä»£ç†ç­–ç•¥æ‰§è¡Œ
encrypted-dns-follow-outbound-mode = false
# > ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# > æ—¥å¿—çº§åˆ«
loglevel = notify
# > å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true
# > Always Real IP Hosts
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
# > Hijack DNS
# hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# > è·¯ç”±é˜²ç«å¢™
# åŒ…å«æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚
include-all-networks = false
# > åŒ…å«æœ¬åœ°ç½‘ç»œè¯·æ±‚
include-local-networks = false
# > ä»£ç†è¯·æ±‚æœ¬åœ° DNS æ˜ å°„
use-local-host-item-for-proxy = false
# > æ–°å¢ä¸¤ä¸ªå‚æ•°ï¼ˆéœ€è¦ iOS 16.4 ä»¥ä¸Šç‰ˆæœ¬ï¼‰
# è¯·æ³¨æ„ï¼Œè¿™ä¸¤ä¸ªé€‰é¡¹ä»…åº”åœ¨æœ‰ç‰¹æ®Šéœ€æ±‚æ—¶å¼€å¯ã€‚æ­£å¸¸æƒ…å†µä¸‹ä¸åº”è¯¥å¼€å¯ä»¥é¿å…äº§ç”Ÿé—®é¢˜ã€‚
# > è®© Surge æ¥ç®¡ Apple Push Notification service (APNs) ç›¸å…³è¯·æ±‚
include-apns = false
# > è®© Surge æ¥ç®¡ VoLTE, Wi-Fi Calling, IMS, MMS, Visual Voicemail ç­‰ç›¸å…³æ•°æ®ç½‘ç»œæœåŠ¡çš„è¯·æ±‚
include-cellular-services = false

[Replica]
# > éšè— Apple è¯·æ±‚
hide-apple-request = false
# > éšè—å´©æºƒè¿½è¸ªå™¨è¯·æ±‚
hide-crash-reporter-request = true
# > éšè— UDP ä¼šè¯
hide-udp = false
# > å…³é”®è¯è¿‡æ»¤å™¨
# keyword-filter-type = none
# > å…³é”®è¯
# keyword-filter = (null)

[Proxy]
Direct = direct
#Reject = reject

[Proxy Group]
# æœºåœºä¿¡æ¯ (encodeåœ°å€é“¾æ¥: https://www.urlencoder.orgï¼‰
FSCloud = select, policy-path=http://sub.info?url=https%3A%2F%2Fdash.fscloud.cc%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3D7281d7714ed1a755ceb97c66919e78c2&reset_day=6&title=FSCloud, update-interval=3600, hidden=false
Nanoport = select, policy-path=http://sub.info?url=https%3A%2F%2Fsubv5.nanoport.xyz%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3D1c6c6c0e2b3366a2d9410a8d6ed676b8&reset_day=15&title=Nanoport, update-interval=3600, hidden=false

Proxy = select, ğ—”ğ—¨ğ—§ğ—¢, Spare, ğŸ‡­ğŸ‡°HK, ğŸ‡¨ğŸ‡³TW, ğŸ‡¸ğŸ‡¬SG, ğŸ‡¯ğŸ‡µJP, ğŸ‡ºğŸ‡¸US, ğ—¢ğ˜ğ—µğ—²ğ—¿, no-alert=0, hidden=0, include-all-proxies=0

# å¤‡ç”¨çº¿è·¯
Spare = url-test, policy-path=https://s.trojanflare.com/surge/7402484f-e600-4083-9200-2f670020843f, update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0,url = http://www.google.com/generate_204,interval=1800,timeout=5

# å»¶è¿Ÿé€‰æ‹©
ğ—”ğ—¨ğ—§ğ—¢ = url-test, include-other-group="ğŸ‡­ğŸ‡°HK, ğŸ‡¨ğŸ‡³TW, ğŸ‡¸ğŸ‡¬SG, ğŸ‡¯ğŸ‡µJP, ğŸ‡ºğŸ‡¸US, ğ—¢ğ˜ğ—µğ—²ğ—¿, Spare", update-interval=43200, no-alert=0, hidden=1, include-all-proxies=1,url = http://www.google.com/generate_204,interval=1800,timeout=5

Final = select,Proxy,Direct,hidden=1
Apple = select, Direct, Proxy,Spare,ğ—¢ğ˜ğ—µğ—²ğ—¿,no-alert=0, hidden=0, include-all-proxies=0
YouTube = select,Proxy, ğŸ‡­ğŸ‡°HK, ğŸ‡¨ğŸ‡³TW, ğŸ‡¯ğŸ‡µJP, ğŸ‡¸ğŸ‡¬SG, ğŸ‡ºğŸ‡¸US,Spare,ğ—¢ğ˜ğ—µğ—²ğ—¿,no-alert=0, hidden=0, include-all-proxies=0
Telegram = select, Proxy,ğŸ‡­ğŸ‡°HK,ğŸ‡¨ğŸ‡³TW,ğŸ‡¸ğŸ‡¬SG, ğŸ‡ºğŸ‡¸US,Spare,ğ—¢ğ˜ğ—µğ—²ğ—¿,no-alert=0, hidden=0, include-all-proxies=0
# ä»¥ä¸‹ç­–ç•¥æ ¹æ®è‡ªå·±éœ€æ±‚è‡ªè¡Œåˆ é™¤æ³¨é‡Š "#" å³å¯ã€‚
# Disney+ = select, Proxy,ğŸ‡­ğŸ‡°HK, ğŸ‡¨ğŸ‡³TW, ğŸ‡¯ğŸ‡µJP,  ğŸ‡¸ğŸ‡¬SG, ğŸ‡ºğŸ‡¸US,Spare,ğ—¢ğ˜ğ—µğ—²ğ—¿,no-alert=0, hidden=0, include-all-proxies=0
Netflix = select, Proxy,ğŸ‡­ğŸ‡°HK, ğŸ‡¨ğŸ‡³TW, ğŸ‡¯ğŸ‡µJP, ğŸ‡¸ğŸ‡¬SG, Spare,ğ—¢ğ˜ğ—µğ—²ğ—¿,ğŸ‡ºğŸ‡¸US,no-alert=0, hidden=0, include-all-proxies=0
Spotify = select, Proxy,ğŸ‡­ğŸ‡°HK, ğŸ‡¨ğŸ‡³TW, ğŸ‡¯ğŸ‡µJP, ğŸ‡¸ğŸ‡¬SG, ğŸ‡ºğŸ‡¸US,Spare,ğ—¢ğ˜ğ—µğ—²ğ—¿,no-alert=0, hidden=0, include-all-proxies=0
Streaming = select,Proxy, ğŸ‡­ğŸ‡°HK, ğŸ‡¨ğŸ‡³TW, ğŸ‡¯ğŸ‡µJP, ğŸ‡¸ğŸ‡¬SG, ğŸ‡ºğŸ‡¸US,Spare,ğ—¢ğ˜ğ—µğ—²ğ—¿,no-alert=0, hidden=0, include-all-proxies=0
OpenAI = select, Proxy,ğŸ‡¯ğŸ‡µJP, ğŸ‡¸ğŸ‡¬SG, ğŸ‡ºğŸ‡¸US,Spare,ğ—¢ğ˜ğ—µğ—²ğ—¿,no-alert=0, hidden=0, include-all-proxies=0
Bilibili = select, Direct, ğŸ‡­ğŸ‡°HK, ğŸ‡¨ğŸ‡³TW,Spare,ğ—¢ğ˜ğ—µğ—²ğ—¿,no-alert=0, hidden=0, include-all-proxies=0

#é¦™æ¸¯
ğŸ‡­ğŸ‡°HK = fallback, policy-path=https://sub.store/download/collection/%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F, update-interval=86400, policy-regex-filter=(ğŸ‡­ğŸ‡°)|(æ¸¯)|(Hong)|(HK), hidden=0, no-alert=0, include-all-proxies=0
#å°æ¹¾
ğŸ‡¨ğŸ‡³TW = fallback, policy-path=https://sub.store/download/collection/%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F, update-interval=86400, policy-regex-filter=(ğŸ‡¨ğŸ‡³)|(å°)|(Tai)|(TW), hidden=0, no-alert=0, include-all-proxies=0
#æ—¥æœ¬
ğŸ‡¯ğŸ‡µJP = fallback, policy-path=https://sub.store/download/collection/%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F,  update-interval=86400, policy-regex-filter=(ğŸ‡¯ğŸ‡µ)|(æ—¥)|(Japan)|(JP), hidden=0, no-alert=0, include-all-proxies=0
#æ–°åŠ å¡
ğŸ‡¸ğŸ‡¬SG = fallback, policy-path=https://sub.store/download/collection/%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F, update-interval=86400, policy-regex-filter=(ğŸ‡¸ğŸ‡¬)|(æ–°)|(Singapore)|(SG), hidden=0, no-alert=0, include-all-proxies=0
#ç¾å›½
ğŸ‡ºğŸ‡¸US = fallback, policy-path=https://sub.store/download/collection/%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F,  update-interval=86400, policy-regex-filter=(ğŸ‡ºğŸ‡¸)|(ç¾)|(States)|(US), hidden=0, no-alert=0, include-all-proxies=0

#å…¶ä»–
ğ—¢ğ˜ğ—µğ—²ğ—¿ = select, policy-path=https://sub.store/download/collection/%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F%E2%9C%88%EF%B8%8F, policy-regex-filter=^((?!æ¸¯ï½œå°ï½œæ–°ï½œç‹®åŸï½œæ—¥ï½œç¾).)*$, update-interval=43200, no-alert=0, hidden=0, include-all-proxies=0


[Rule]
# è™ç‰™å¼€å±
AND,((DOMAIN-SUFFIX,msstatic.com), (OR,((DOMAIN-KEYWORD,livewebbs2), (DOMAIN-KEYWORD,business), (DOMAIN-KEYWORD,file)))),REJECT-DROP
# å±è”½ HTTP3/QUIC åè®®
# é˜»æ­¢æ‰€æœ‰ UDP æµé‡è¿›å…¥443ç«¯å£ï¼Œä½¿ HTTP3 è¯·æ±‚å›è½åˆ° TCP æµé‡ã€‚
AND,((PROTOCOL,UDP), (DEST-PORT,443)),REJECT-NO-DROP
# Appleç­–ç•¥ä¼˜é€‰
AND,((DOMAIN,iosapps.itunes.apple.com), (SCRIPT,Appleç­–ç•¥ä¼˜é€‰)),Apple
# å±è”½ YouTube çš„ UDP
AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP
# Safari è®¿é—®é˜²è·³è½¬ App
DOMAIN,app-site-association.cdn-apple.com,REJECT
# ç»•è¿‡ App ä¼ä¸šè¯ä¹¦è¿‡æœŸ
DOMAIN,ocsp.apple.com,REJECT
# Boxjs ä»£ç†
DOMAIN-KEYWORD,jsdelivr.net,Proxy
# Sub-Store çš„ Web é¡µé¢
DOMAIN-SUFFIX,vercel.app,Proxy
# TestFlight å•†åº—
DOMAIN,beta.apple.com,Direct
DOMAIN,testflight.apple.com,Direct
# Client (ä»… macOS)
PROCESS-NAME,UUBooster,Direct
# > Download (ä»… macOS)
PROCESS-NAME,aria2c,Direct
PROCESS-NAME,fdm,Direct
PROCESS-NAME,Folx,Direct
PROCESS-NAME,NetTransport,Direct
PROCESS-NAME,Thunder,Direct
PROCESS-NAME,Transmission,Direct
PROCESS-NAME,uTorrent,Direct
PROCESS-NAME,WebTorrent,Direct
PROCESS-NAME,WebTorrent Helper,Direct
# åç»­è§„åˆ™ä¿®æ­£
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,Direct
# å¹¿å‘Šæ‹¦æˆª
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,REJECT

DOMAIN-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list,REJECT
# éšç§ä¿æŠ¤
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,REJECT
# è¿è¥å•†åŠ«æŒæˆ–æ¶æ„ç½‘ç«™
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,REJECT
# è…¾è®¯ WeChat ASN
IP-ASN,132203,Direct
# è…¾è®¯ WeChat
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/WeChat.list,Direct
RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/Surge/WeChat.list,Direct
# Apple æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Apple/Apple.list,Apple
# YouTube
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/YouTube.list,YouTube
# OpenAI
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/OpenAi.list,OpenAI,update-interval=86400
# ä»¥ä¸‹è§„åˆ™æ ¹æ®è‡ªå·±éœ€æ±‚è‡ªè¡Œåˆ é™¤æ³¨é‡Š"#"å³å¯ã€‚
# Disney+
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/DisneyPlus.list,Disney+
# Netflix
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/Netflix.list,Netflix
# Spotify
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Music/Spotify.list,Spotify
# å›½é™…æµåª’ä½“æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,Streaming
# Telegram æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.Telegram.list,Telegram
# å…¨çƒåŠ é€Ÿ
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,Proxy
# ä¸­å›½ç›´è¿
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,Direct
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaASN/ChinaASN_Resolve.list,Direct
# Bilibili
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,Bilibili
# RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/BilibiliHMT.list,Bilibili,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/Surge/Bilibili.list,Bilibili
# é˜²æ­¢åº”ç”¨å¾ªç¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
# Local Area Network å±€åŸŸç½‘
RULE-SET,LAN,Direct
# GeoIP China
GEOIP,CN,Direct
# > DNS æŸ¥è¯¢å¤±è´¥èµ° Final è§„åˆ™
FINAL,Final,dns-failed

[Host]
# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29
# PlayStation
*.dl.playstation.net = server:119.29.29.29
# Router Admin Panel
amplifi.lan = server:syslib // Ubiquiti Amplifi Router
router.synology.com = server:syslib // Synology Router
sila.razer.com = server:syslib // Razer Sila Router
router.asus.com = server:syslib // Asus Router
routerlogin.net = server:syslib // Netgear Router
orbilogin.com = server:syslib // Netgear Obri Router
www.LinksysSmartWiFi.com = server:syslib // Linksys Router
LinksysSmartWiFi.com = server:syslib // Linksys Router
myrouter.local = server:syslib // Linksys Router
www.miwifi.com = server:syslib // Xiaomi Mi WiFi Router
miwifi.com = server:syslib // Xiaomi Mi WiFi Router
mediarouter.home = server:syslib // Huawei Router
tplogin.cn = server:syslib // TP-Link Router
tplinklogin.net = server:syslib // TP-Link Router
melogin.cn = server:syslib // MERCURY Router
falogin.cn = server:syslib // FAST Router
# Apple
apple.com = server:223.5.5.5
*icloud.com = server:223.5.5.5
*icloud.com.cn = server:223.5.5.5
#*testflight.apple.com = server:8.8.4.4

[URL Rewrite]
# Safari å…¨èƒ½æœç´¢ header
# ä»¥ä¸‹ä¸º Safari å…¨èƒ½æœç´¢ã€éœ€è¦æŠŠ Safari çš„æœç´¢å¼•æ“è®¾ç½®ä¸º: DuckDuckGo
# gm (Googleå›¾ç‰‡) header
^https:\/\/duckduckgo.com\/\?q=gm\+([^&]+).+ https://www.google.com/search?&tbm=isch&q=$1 302
# gh (GitHub) header
^https:\/\/duckduckgo.com\/\?q=gh\+([^&]+).+ https://github.com/search?q=$1 302
# tf (Google æœç´¢ TestFlight)
^https:\/\/duckduckgo.com\/\?q=tf(\+|%20)([^&]+).+ https://www.google.com/search?as_q=$2&as_sitesearch=testflight.apple.com 302
# wb (å¾®åš) header
^https:\/\/duckduckgo.com\/\?q=wb\+([^&]+).+ https://s.weibo.com/weibo/$1 302
# wx (å¾®ä¿¡) header
^https:\/\/duckduckgo.com\/\?q=wx\+([^&]+).+ https://weixin.sogou.com/weixinwap?query=$1 302
# jd (äº¬ä¸œ) header
^https:\/\/duckduckgo.com\/\?q=jd\+([^&]+).+ https://so.m.jd.com/ware/search.action?keyword=$1 302
# tb (æ·˜å®) header
^https:\/\/duckduckgo.com\/\?q=tb\+([^&]+).+ https://s.m.taobao.com/h5?q=$1 302
# tm (å¤©çŒ«) header
^https:\/\/duckduckgo.com\/\?q=tm\+([^&]+).+ https://s.m.tmall.com/m/search.htm?q=$1 302
# ytb (YouTube) header
^https:\/\/duckduckgo.com\/\?q=ytb\+([^&]+).+ https://www.youtube.com/results?search_query=$1 302
# ph (PornHub) header
^https:\/\/duckduckgo.com\/\?q=ph\+([^&]+).+ https://cn.pornhub.com/video/search?search=$1 302
# db (è±†ç“£ï¼‰ header
^https:\/\/duckduckgo.com\/\?q=db\+([^&]+).+ https://m.douban.com/search/?query=$1 302
# bi (å¿…åº”) header
^https:\/\/duckduckgo.com\/\?q=bi\+([^&]+).+ https://cn.bing.com/search?q=$1 302
# bd (ç™¾åº¦) header
^https:\/\/duckduckgo.com\/\?q=bd\+([^&]+).+ https://www.baidu.com/s?wd=$1 302
# ccn (App Store ä¸´æ—¶æ¢è‡³ä¸­å›½åŒº)
^https:\/\/duckduckgo.com\/\?q=ccn&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143465&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=cn&urlDesc= 302
# uus (App Store ä¸´æ—¶æ¢è‡³ç¾å›½åŒº)
^https:\/\/duckduckgo.com\/\?q=uus&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143441&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=us&urlDesc= 302
# hhk (App Store ä¸´æ—¶æ¢è‡³é¦™æ¸¯åŒº)
^https:\/\/duckduckgo.com\/\?q=hhk&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143463&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=hk&urlDesc= 302
# ddg (DuckDuckGo) header
^https:\/\/duckduckgo.com\/\?q=ddg\+([^&]+).+ https://duckduckgo.com/?ia=about&q=$1 302
# æ— æŒ‡ä»¤ (Google) header
^https:\/\/duckduckgo.com\/\?q=([^&]+).+ https://www.google.com/search?q=$1 302
# é˜»æ­¢ google.com è·³è½¬åˆ° google.com.hk
^https?:\/\/(www\.)?g\.cn https://www.google.com/ncr 302
^https?:\/\/(www\.)?google\.cn https://www.google.com/ncr 302

[Header Rewrite]
# New Bing AI æœç´¢ï¼Œè§£é™¤æµè§ˆå™¨é™åˆ¶
^https:\/\/www\.bing\.com\/(search|new) header-replace-regex User-Agent \w+\/[\d\.]+$ "AppleWebKit/537.36 Chrome/110.0 Safari/537.36 Edg/110.0"

# ç™¾åº¦ (å…¨ç«™æ›¿æ¢ä¸ºæ‰‹æœºç™¾åº¦ Quark çš„ User-Agentï¼‰
#http-request ^https?:\/\/(?!d\.pcs).*(?<!map)\.baidu\.com header-replace-regex User-Agent .+iPhone.+ "Mozilla/5.0 (iPhone; CPU iPhone OS 13_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/16C50 Quark/604.1 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)"

# çŸ¥ä¹ (éƒ¨åˆ†æ›¿æ¢ä¸ºæ‰‹æœºç™¾åº¦ Quark çš„ User-Agentï¼‰
http-request ^https?:\/\/www\.zhihu\.com header-replace-regex User-Agent .+iPhone.+ "Mozilla/5.0 (iPhone; CPU iPhone OS 13_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/16C50 Quark/604.1 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)"

[MITM]
# è·³è¿‡æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
skip-server-cert-verify = true
# ç”¨äº TCP è¿æ¥
tcp-connection = true
# MITM over HTTP/2
h2 = true
hostname = duckduckgo.com, *.google.cn, *.google.com.hk, sub.store, boxer.baidu.com, security.wechat.com, weixin110.qq.com, *.lrts.me, testflight.apple.com, pan.baidu.com, m.douban.com, www.bing.com, *.baidu.com, www.zhihu.com, ap?.bili*i.com, ap?.bili*i.net,%APPEND% raw.githubusercontent.com, gist.githubusercontent.com
ca-passphrase = C1D97063
ca-p12 = MIIKPAIBAzCCCgYGCSqGSIb3DQEHAaCCCfcEggnzMIIJ7zCCBF8GCSqGSIb3DQEHBqCCBFAwggRMAgEAMIIERQYJKoZIhvcNAQcBMBwGCiqGSIb3DQEMAQYwDgQIndQ9J6HKhr0CAggAgIIEGCP7O3WEq+x8ReBs7J+w//Zzw2GM7CVCsTYD18HIn8bZ8cuLpYtf8juW4B2yo2HNzxtD6hSmJuaNelDAgxJU10w/WTqeK0TD1pdvh06X2aN3W+eWyvuywjccTX9+RiSH15Kcp/HXledMIRKNN5TcDEC5Fk4hfXyZyJ3MVXT8ZfiyhFu+RKtnuYLOrq6bXS8xNHKxqQcHOgThICu75H5+Njz9fQkuk3VitCOw6/XN6sL096YHPWT+FORxvpVFI8M2Zc+merrWQPZ1TT3nljZhfLL7r9dcAmCYNuP4PL3z58JVhT5eRTSmoX1tIfZ3xJad84BF1tbd6I9PBJH1kfOb05bB3aN+pccgMSQRlILjrMOVoKVifeo0CG2+D3GZgvzxokl1Z21XoyGN1jvrJJ6mulZxoukL6L884AL7ZqV8+8jVly/vzO69v5iTE2OXPepFbAmsKqKhPTJpbMVKHjUizbBJ1Qnf8VP9GfUu/h0hGWN3IiIHOtSfWUkUrc0h4ykNyukBwKU0IVlDYMgvaywjXmnGS/7vKwLg4s3I8REMUymCDtl+h9K0uHFQKV+h9Em48Ia/coH45nGDQlwklWVJeCYs333y5FrDrw2JqTjawJHNspMHh6PxEvYmTRqdptWhNTb4ohSL8ZWKBMHa/+jZUKB/+QILLiQxXuhy0WIpRCzXHdiduf2vxABoJLB7eM9VqgjeLf8r7ktZQMetebwwoNajdSqq8KwLl4f0Czq4hRiik9OZ6PltCkjyX3LjgnIt+b2Z9o80gaSm0ABDOAFT/m4Klnx4UdSLKmm9La+C524YHfPIYU96puKOMVRsoJlJkwLvvNffAuHmbB5OqGigZ5/XGl2BRu+LkrLsQe+thKsYfNZiDp7DMuFUBSgdhNVaO9G9bWiVMLG6VsaQfJit1lpiYHja4XQMURVteJoy8GLxk/t71HNRF1HD3CZj5IWJCKs6p9ouq35yWVOXLIdl7SbL4Ql6VZtRz/SXU9YMChMKGqGuzKgp5bQNp3NUs/BD0hSpmz93ruGJ8iaShTyp/25m9HHrhMJm+OsIYO4X+CgRG0JffWjgk7bzJqfNZDj83BXPcTWrxaXNIBOZkJ24dFLb9TPTXlxapha+CubkrPc8SUqf/1Selt/QQYw6zOWCMq+uBtsOIoy9EsQDGMdUDulD/ZqMANW4+LrjdHWLszydRWql9QVa7mwtSCI14RyiVvAVi9Z2s6DUXnDXHnGfGu6uLlW4590t57EJag/JRsRWPoeKsjN8WJT647sy2+vIs09o+xE0wX8UN9SSGbLO93PhuR4bcbAfb6d3KxntPWPeZU/6+lDfXE8lKvQoQYzguybogywLXgYxRaEE/k5lL4FXBO3r8OLJFXy9V4T7g0dELZgevTW9r1owggWIBgkqhkiG9w0BBwGgggV5BIIFdTCCBXEwggVtBgsqhkiG9w0BDAoBAqCCBO4wggTqMBwGCiqGSIb3DQEMAQMwDgQICT4B1GkWot0CAggABIIEyM3xFxSiVxqv5vB4d3TnGDrObiGGIBn++wrGd509Wyml4mZbjIJF3QGVUHSkLTP6hSk1pZ1/BbIm+wlc7U3IVLXez5MZPaVkdlan9jMZyk4ka4G1ER7jOfphUuZ+2L+rCtGKNwJNRZg4v9Ryoxu45N1jpVevQNxLTzpRPgsg6oXlhhFbZoXJ9PZAKKENPNjT8CP+bYP5EFV4NOb3c12U+Op+sZJaHJqpFW4wVtx6xJr0uB/Y2+4Wo/rvlroZQ/NuE6ehY5rBDFTKmgMLymT8GJb72/gdX5AtpW0gqfZSmZu3Rd4qCHCQn9T3T3eVZGt2n4McTxcCIMeA6oLXWHUzmluFLNfSRAEI3S+4ZyVQhcyk3HYs/U5P64ZYmwT5Q/fRqGLTeJLYwEVC/SI4YWyEZ7KVZN7DpwYA0VkoYQ9Gh+rscPwndK0glAJdJGpLjhoQhPSUOALgDdvm9dDq8JTCDVuwSWhNUKjbDYHjmnwbzjHavQgs0GtnEgPkedCo5/0ihpzdhshG+cnYPD2T7jSsj0VABz2BllMcR5rB16jFzmSYVGaTCId1N+a8yRhAyzC8oTk7rFLFf3lmCbxzz2mDg+NZnQp+wUbnQ6H7ADzpMmA1uC+LX4itfsUfn7EJsBj7oK7aYi0XWK0Uom6OX0B3FjwA6CRQCxgnP6sfJvz6rMhA/nRF85Sm4+JkLKj7wYuyfog6iP22dEKFHc7v+TwNKIs8nOEKS7w7h26lO/amkE+6IBj9xYLNG/PhNg9pSNc/avnnHu3KbkT3Mk+2vSuOzzT2VygVM59k5/tiyGamQGLpBWwp5rHwiwZcwyzQ0yoMAZ0BNXzPVsGaQheYP8wWZrdT7yLrrjg8aGrrYwZ3gOirM4nRbOBerM3OV7maLqNK/UHUx1m5jbkKwhscn1n+pcgFAug/OR9zASVx4LQEeg8XiS2k9H3+7WZUxPbIu6Q83AmSEM7DpJPoSaicYYU/mMDITdnWmgmE+m6GgTqbAEY65Hha7CpYtXwkG6GQIPP7UHUd1qXepac2S2/y+g4REERVSWMI+H+S+eP8iruB08dwF1htAwQigk6UIE6UCT0uLNsGsR2sV6n2NGH7bteblle91MvfIIrQAgin8ha234AcNg5AygaFI9B0Am+lkn3T/pmNPtHAQP09hwIu4FdFZBxuNYFBXLWZefOszbw//J+y054vf7aGx8I4kTgHjmXkQtKnuClze/RTFowFMEhfx4mr/gpwGHHDc+IteRChV5epa6cw0ae1C0xkkgGOI53Qu0eVbHAOKojQvY3hM2wKIndUxeXfActJrUVGSWP203vAWNzMVWxQotTy4KguQP6N1FMNKDwBX68gn0pj0bcpi1Pg9ZD8sZkJlnT4bAgUSZq2VRyIKtsfWTUajoVuVLjRBFfepAWNHB/M0WO03BoAG0VDOzdJvymqMYxIBUVqKqiKhoRh5uIUyvdc9X3ThhzdUsUj/kQDZRsWicBCE/kMj3YpoGr1LD93QlkJdVZdYQ4lEJe9QkQmicQvaNznTLYFBxQK5MyXQ+FJf3zK0+gXFxCzyCT+UZgOf+jSJDBjmSweCNM1NB5MmOn8SdIppxYIHrbNf+H4eXIJFEkB5eOjA3pNWh1j8jd6zDFsMCMGCSqGSIb3DQEJFTEWBBS5bcO1V1hpOTIv+rdbcspD+aYu/DBFBgkqhkiG9w0BCRQxOB42AFMAdQByAGcAZQAgAEcAZQBuAGUAcgBhAHQAZQBkACAAQwBBACAAQwAxAEQAOQA3ADAANgAzMC0wITAJBgUrDgMCGgUABBQxO/4zgBMJGdm0ludo2YQSzLXs1gQIpXf05POROrM=

[Script]
Sub-Store = type=http-request,requires-body=true,timeout=120,max-size=131072,pattern=^https?:\/\/sub\.store,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store.min.js

æœºåœºä¿¡æ¯ = type=http-request,timeout=10,pattern=http://sub\.info,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/Sub_info_lite.js

# Appleä¸‹è½½é€Ÿåº¦ä½äº10MBå°†è‡ªåŠ¨è§¦å‘æ›¿æ¢ç­–ç•¥
Appleç­–ç•¥ä¼˜é€‰ = type=rule,timeout=60,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/SpeedLimit.js,argument="Group=Apple&policy=Direct,Proxy&time=15&minSpeed=10"

è§£é™¤å¾®ä¿¡é“¾æ¥é™åˆ¶ = type=http-response,pattern=^https\:\/\/(weixin110\.qq|security.wechat)\.com\/cgi-bin\/mmspamsupport-bin\/newredirectconfirmcgi\?,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/zZPiglet/Task/master/asset/UnblockURLinWeChat.js

#TestFlightä¸‹è½½ä¿®æ­£ = type=http-request,pattern=^https?:\/\/testflight\.apple\.com\/v\d\/accounts\/.+?\/install$,requires-body=1,script-update-interval=-1,max-size=0,script-path=https://gist.githubusercontent.com/NobyDa/9be418b93afc5e9c8a8f4d28ae403cf2/raw/TF_Download.js

ç™¾åº¦äº‘VIPå€é€Ÿæ’­æ”¾ = type=http-response,pattern=https:\/\/pan\.baidu\.com\/rest\/2\.0\/membership\/user,requires-body=1,max-size=0,timeout=20,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/BaiduCloud.js

# èŠ‚å‡æé†’ = type=generic,timeout=10,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/Timecard.js

ç½‘ç»œä¿¡æ¯ = type=generic,timeout=10,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/ipcheck.js

ç½‘ç»œå»¶è¿Ÿ = type=generic,timeout=5,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/ConnectivityTest.js,argument=title=ç½‘ç»œå»¶è¿Ÿ&server=false

é…ç½®é‡è½½ = type=generic,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/Profile-Reload.js

#SSIDè‡ªåŠ¨ç­–ç•¥
event network-changed script-path=https://raw.githubusercontent.com/Peng-YM/QuanX/master/Tools/AutoPolicy/auto-policy.js

[Panel]
# Panel = title=TributePaulWalker,content=GitHub:https://github.com/TributePaulWalker,icon=aqi.medium,icon-color=#5AC8FA
# èŠ‚å‡æé†’ = script-name=èŠ‚å‡æé†’,update-interval=3600
# ä»Šæ—¥é»„å† = script-name=ä»Šæ—¥é»„å†,title=ä»Šæ—¥é»„å†,content=è¯·åˆ·æ–°,style=info,update-interval=86400
# ç½‘ç»œä¿¡æ¯ = script-name=ç½‘ç»œä¿¡æ¯,title=ç½‘ç»œä¿¡æ¯,content=è¯·åˆ·æ–°,style=info,update-interval=60
ç½‘ç»œå»¶è¿Ÿ = script-name=ç½‘ç»œå»¶è¿Ÿ,update-interval=1
é…ç½®é‡è½½ = script-name=é…ç½®é‡è½½,title=é…ç½®é‡è½½,content=é…ç½®é‡è½½,style=info,update-interval=-1

